server 10.31.0.0 255.255.255.0
verb 3
key /etc/openvpn/pki/private/vpn-server-uk.key
ca /etc/openvpn/pki/ca.crt
cert /etc/openvpn/pki/issued/vpn-server-uk.crt
dh /etc/openvpn/pki/dh.pem
keepalive 10 60
persist-key
persist-tun

# Accept username/password without requiring client certificates
client-cert-not-required
verify-client-cert none
username-as-common-name
duplicate-cn

client-config-dir /etc/openvpn/ccd
route 10.1.0.0 255.255.255.0

proto udp
# Rely on Docker to do port mapping, internally always 1194
port 1194
dev tun0
status /tmp/openvpn-status.log

topology subnet
user nobody
group nogroup
comp-lzo no

### Push Configurations Below
push "route 10.1.0.0 255.255.255.0"
push "dhcp-option DNS 8.8.8.8"
push "dhcp-option DNS 8.8.4.4"
push "comp-lzo no"

# Allow username/password authentication
auth-user-pass-verify /etc/openvpn/auth.sh via-env
script-security 2
client-to-client
