{
  "setup-worktree": [
    "echo 'üîß Setting up multi-region-vpn worktree...'",
    "chmod +x gradlew || true",
    "echo ''",
    "echo 'üìÅ Creating necessary directories...'",
    "mkdir -p captures capture_tmp tmp || true",
    "echo '‚úì Directories created'",
    "echo ''",
    "echo 'üì¶ Step 1: Resolving Android dependencies (skipping native builds)...'",
    "./gradlew androidDependencies || echo '‚ö†Ô∏è  Gradle dependency resolution failed - this is OK if Android SDK is not set up yet'",
    "echo ''",
    "if [ -f \"$ROOT_WORKTREE_PATH/.env\" ]; then cp \"$ROOT_WORKTREE_PATH/.env\" .env && echo '‚úì Copied .env file from root worktree'; else echo '‚ÑπÔ∏è  No .env file found in root worktree'; fi",
    "echo ''",
    "if [ -f local.properties ]; then echo '‚úì local.properties found (Android SDK configured)'; else echo '‚ÑπÔ∏è  local.properties not found - Android Studio will create this automatically'; fi",
    "echo ''",
    "if [ -n \"$VCPKG_ROOT\" ] && [ -f \"$VCPKG_ROOT/scripts/buildsystems/vcpkg.cmake\" ]; then echo '‚úì vcpkg detected at $VCPKG_ROOT'; else echo '‚ÑπÔ∏è  vcpkg not configured (set VCPKG_ROOT to enable native dependencies)'; fi",
    "echo ''",
    "if [ \"$SKIP_NATIVE_BUILD\" = \"true\" ]; then echo '‚è≠Ô∏è  SKIP_NATIVE_BUILD=true - skipping native build'; else echo 'üî® Step 2: Building native dependencies (this may take 15-30 minutes)...'; echo '   Note: Set SKIP_NATIVE_BUILD=true to skip this step'; fi",
    "if [ \"$SKIP_NATIVE_BUILD\" != \"true\" ]; then ./gradlew :app:externalNativeBuildDebug || echo '‚ö†Ô∏è  Native build failed - this is OK if Android NDK is not set up yet'; fi",
    "echo ''",
    "echo 'üî® Step 3: Building diagnostic clients (for E2E tests)...'",
    "./gradlew :diagnostic-client-uk:assembleDebug :diagnostic-client-fr:assembleDebug :diagnostic-client-direct:assembleDebug || echo '‚ö†Ô∏è  Diagnostic client build failed - this is OK if Android SDK is not set up yet'",
    "echo ''",
    "echo '‚úÖ Worktree setup complete!'",
    "echo ''",
    "echo 'üìã Next steps:'",
    "echo '   - Ensure Android SDK and NDK are installed'",
    "echo '   - Set VCPKG_ROOT if using vcpkg for native dependencies'",
    "echo '   - Run ./gradlew build to build the full project'",
    "echo '   - Run ./gradlew :app:installDebug to install on device/emulator'"
  ]
}
